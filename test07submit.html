<!DOCTYPE html>
<html>
<head>
<!--
Based on test05.html
-201208c -try to add submit capabillities

-->  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>x-spreadsheet</title>
    
<link href="xspreadsheet.css" rel="stylesheet"></head>
<body onload="load()">

    <div id="probeserver" onselectstart="return false" onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false" >	ΑΣΚΗΣΗ<BR>
  ΦΤΙΑΞΤΕ ΤΟΝ ΠΙΝΑΚΑ ΟΠΩΣ ΣΤΗΝ ΦΩΤΟΓΡΑΦΙΑ: <HR></div>
  
  <!-- <img src="lessons/lesson2b-bookstore.jpg"> -->
  <div id=lessonimage><!--<img src="lessons/lesson2a-bookstore.jpg">--></div>
  <BR>

<form action="handle-submit.php" method="post" mouseover="mySave()" onsubmit="mySave()" >
<!--  <form action="return_request.php" method="post" mouseover="mySave()" onsubmit="mySave()"> -->
    <div id="div-submit" ><!------------------------------div-submit -->
    <!--<textarea name="text_entered" id="text_entered" readonly ></textarea> -->
    <input type=hidden name="text_entered" id="text_entered" >
    <label for="name">ΟΝΟΜΑ ΣΧΟΛΕΙΟΥ:</label>
    <input type="text" id="schoolname" name="schoolname" size=15>
    <br>
    <br> ΤΑΞΗ:
    <select name="taksi" id="taksi">
      <option value="Α">Α</option>
      <option value="Β">Β</option>
      <option value="Γ">Γ</option>
      <option value="Δ">Δ</option>
      <option value="Ε">Ε</option>
      <option value="ΣΤ">ΣΤ</option>
    </select> ΤΜΗΜΑ:
    <select name="tmima" id="tmima">
      <option value="1">1</option>
      <option value="2">2</option>
    </select>
    <BR>
    <label for="name">ΟΝΟΜΑ(ΤΑ):</label>
    <input type="text" id="name" name="name" size=60>
    <br>
    <br>
    <input type="submit" value="ΥΠΟΒΟΛΗ"> 
    </div><!--------------------------------------------div-submit -->
  </form>


  <HR>
  <div id="x-spreadsheet-demo"></div>


  <script>
  	var json_remote="{}";
  	var xs;
    //x.spreadsheet.locale('el');
    //x_spreadsheet.locale('el');

    function load(){
      // x.spreadsheet.locale('zh-cn');
      xs = x_spreadsheet('#x-spreadsheet-demo',// default options
							{
							  showToolbar: true,
							  showGrid: true,
							  showContextmenu: true,
							});
    

      setTimeout(
        function() { console.log ("--------------------------------------------HELLO getData");
        getData(xs);
      }, 90000);

/*
    	setTimeout(
    		function() { console.log ("HELLO TIMEOut filldata");
        console.log("AAAAAAAAAAAAAAA json_remote="+json_remote+", response_string="+response_string);
    		fillData(xs);
	    }, 4000);
*/
      setTimeout(
        function() { //console.log ("HELLO TIMEOut filldata");
        //if (json_name_param!==-1) jsonrequestIntervalJSON();
        //console.log("AAAAAAAAAAAAAAA json_remote="+json_remote);
        fillData(xs);
      }, 4000);


      setInterval(logData2console(xs), 9000);



    }

    function logData2console(xs){
        console.log ("--------------------logData2console------------------------");
        getData(xs);

    }

   function mySave() {
    var exported_xls=JSON.stringify(xs.getData());
      //alert (exported_xls); // Click on the checkbox
      document.getElementById('text_entered').value = exported_xls ;
   }

  </script>



  <!--script type="text/javascript" src="https://unpkg.com/x-data-spreadsheet@1.0.20/dist/locale/zh-cn.js"></script-->
<script type="text/javascript" src="xspreadsheet-gr.js"></script>
<script type="text/javascript" src="locale/el.js"></script>
<script type="text/javascript" src="locale/de.js"></script>


        

<script>
 // x.spreadsheet.locale('el');
 function getData( xs){
        console.log(JSON.stringify(xs.getData()));
    }

</script>    


<!-- FUNCTIONS #################### -->

<script src="lesson_js_footer.js" type="text/javascript"></script>
<script>



 // x.spreadsheet.locale('el');
 function fillData( xs){

        //if (json_remote===-1) var json_remote = "{}";
        xs.loadData(JSON.parse(json_remote)

/*{"name":"sheet1","freeze":"A1","styles":[{"align":"center"},{"border":{"bottom":["thin","#000"],"top":["thin","#000"],"left":["thin","#000"],"right":["thin","#000"]}},{"align":"center","border":{"bottom":["thin","#000"],"top":["thin","#000"],"left":["thin","#000"],"right":["thin","#000"]}}],"merges":[],"rows":{"0":{"cells":{"0":{"style":1},"1":{"text":"ΤΙΜΗ ΤΕΜΑΧΙΟΥ","style":1},"2":{"text":"ΠΟΣΟΤΗΤΑ","style":1},"3":{"text":"ΤΙΜΗ ΤΕΛIKH","style":1}}},"1":{"cells":{"0":{"text":"ΜΟΛΥΒΙ","style":1},"1":{"text":"1","style":2},"2":{"style":1},"3":{"style":1}}},"2":{"cells":{"0":{"text":"ΣΒΗΣΤΡΑ","style":1},"1":{"text":"0,5","style":2},"2":{"style":1},"3":{"style":1}}},"3":{"cells":{"0":{"text":"ΤΕΤΡΑΔΙΟ","style":1},"1":{"text":"2","style":2},"2":{"style":1},"3":{"style":1}}},"4":{"cells":{"0":{"text":"ΧΑΡΑΚΑΣ","style":1},"1":{"text":"3","style":2},"2":{"style":1},"3":{"style":1}}},"5":{"cells":{"0":{"text":"ΣΤΥΛΟ","style":1},"1":{"text":"1","style":2},"2":{"style":1},"3":{"style":1}}},"6":{"cells":{"0":{"style":1},"1":{"style":1},"2":{"style":1},"3":{"style":1}}},"7":{"cells":{"0":{"style":1},"1":{"style":1},"2":{"text":"ΣΥΝΟΛΟ :","style":1},"3":{"style":1}}},"9":{"cells":{"0":{}}},"len":100},"cols":{"1":{"width":104},"2":{"width":79},"len":26},"validations":[],"autofilter":{}}*/


          ).change((cdata) => {
          console.log(cdata);
          console.log(xs.validate());
        });

 }



</script>





</body>
</html>
